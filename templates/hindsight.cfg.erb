#!/usr/bin/env lua

output_path             = "<%= @output_dir %>"
output_size             = 64 * 1024 * 1024
sandbox_load_path       = nil -- disable dynamic loading
sandbox_run_path        = "<%= @conf_dir %>/run"
-- sandbox_install_path    = "/usr/share/luasandbox/sandboxes/heka" -- default

analysis_threads        = <%= @analysis_threads %>
analysis_lua_path       = "<%= @analysis_lua_path %>"
analysis_lua_cpath      = "<%= @analysis_lua_cpath %>"
io_lua_path             = analysis_lua_path ..  ";<%= @io_lua_path %>"
io_lua_cpath            = analysis_lua_cpath .. ";<%= @io_lua_cpath %>"

max_message_size        = 8e6 -- default
-- backpressure            = 0 -- default
-- backpressure_disk_free  = 4 -- default
-- hostname                = -- default gethostname()

analysis_defaults = {
--    output_limit          = 1024 * 64,        -- default
--    memory_limit          = 1024 * 1024 * 8,  -- default
--    instruction_limit     = 1000000,          -- default
--    preserve_data         = false,            -- default
--    restricted_headers    = false,            -- default
      ticker_interval       = 60,
--    shutdown_on_terminate = false,            -- default
    }

input_defaults = {
--    output_limit          = 1024 * 64,        -- default
--    memory_limit          = 1024 * 1024 * 8,  -- default
    instruction_limit     = 0,
--    preserve_data         = false,            -- default
--    restricted_headers    = true,             -- default
--    ticker_interval       = 0,                -- default
--    shutdown_on_terminate = false,            -- default
    }

output_defaults = {
--    output_limit          = 1024 * 64,        -- default
--    memory_limit          = 1024 * 1024 * 8,  -- default
--    instruction_limit     = 1000000,          -- default
--    preserve_data         = false,            -- default
--    restricted_headers    = false,            -- default
      ticker_interval       = 60,
--    shutdown_on_terminate = false,            -- default
--    remove_checkpoints_on_terminate = false,  -- default
    }
